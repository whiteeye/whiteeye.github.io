<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Our Love</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="shortcut icon" href="favicon.ico" >
	<style type="text/css">
		@font-face {
			font-family: digit;
			src: url('digital-7_mono.ttf') format("truetype");
		}
	</style>
	<!-- Mmmmm, Google Web Fonts. That's a paddlin'. -->
	<link href='http://fonts.googleapis.com/css?family=Lobster+Two:700&v2' rel='stylesheet' type='text/css'>
	<link href="css/default_dev.css" type="text/css" rel="stylesheet">
	<script type="text/javascript" src="js/jquery.js"></script>
	<link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/curtain.css">
	<link rel="stylesheet" href="css/endcover.css">

    <link rel="stylesheet" type="text/css" href="css/style2.css" />
</head>

<body>

<div class="loading" id="onlo">
	<span>Just a moment please...</span>
</div>

<ul class="menu">
    <li><button href="#up">∧</button></li>
    <li><button href="#down">∨</button></li>
</ul>

<ul id="curtain-links-menu">
    <li><a href="#lovetime" class="curtain-links">Love Time</a></li>
    <li><a href="#lovebg" class="curtain-links">Love BG</a></li>
    <li><a href="#loveletter" class="curtain-links">Love Letter</a></li>
    <li><a href="#lovecover" class="curtain-links">Love Cover</a></li>
</ul>


	
<ol class="curtains">
    <li id="lovetime" class="cover">
        <article>
		<canvas id="myCanvas" width="700" height="700"></canvas>
            <div id="time" style="display:none;">
			<h1>Its been</h1>
			<div id="elapseClock"></div>
			<div id="arrow" style="text-align:center;margin-top:100px;display:none;"><img src="images/jianpan.gif" /></div>
			<h4> Yet I can help skipping :P </h4>
			</div>
			
        </article>
    </li>
	
	<li id="lovebg" class="cover">
		<div class="cover-wrapper">
			<img src="images/colors.jpg"/>
			<span>Hold on to your seat...</span>
		</div>
    </li>

			
		<!-- way to TJ-->	
		<li class="way" id="way2tj">
			<div id="intro"><img src="http://media.giphy.com/media/27P7Oy7Tqkbgk/giphy.gif" class="first"></div>
			<div id="story">
				<div class="row1 col1">
				<h1 class="size3">Ok I think Momos Deserve a Mention In this </h1>
				<h2>KeyWords：</h2>
				<blockquote class="width4 ">
				<p>Ok so I was near Sanjay store on Oct end, on my way to buy myself a plate of momos when I met you. After then, this culinary dish of the Chinkies became quite a part of our meetups. Thank You, Seemya for dem times!</p>
				</blockquote>
				</div>
			</div>
		</li>
		
		<!-- way to CD-->
		<li class="way" id="way2cd">	
			<div id="intro"><img src="http://media.giphy.com/media/DfzVdbj45WcU0/giphy.gif" class="first"></div>
			<div id="story">
				<div class="row1 col5">
					<h2>You Samana(Ok kinda lame I know! :D)</h2>
					<blockquote class="width8 ">
You asked me how much I love you, trust me its more than a minion loves a banana.				</blockquote>
				</div>
			</div>
		</li>
		
		<!-- way to CQ-->
		<li class="way" id="way2cq">
			<div id="intro"><img src="http://media.giphy.com/media/2MbPbpun8su3e/giphy.gif" class="first"></div>
			<div id="story">
				<div class="row1 col5">
					<h1 class="size3">You OLDIE</h1>
					<h2>KeyWords:</h2>
					<blockquote class="width8 ">
						Beauty without intelligence is a masterpiece on a napkin. Talking to has been and continue to been the High Time of my life! :*
						</blockquote>
				</div>
			</div>
		</li>
		
		<!-- way to SHIDU-->
		<li class="way" id="way2sd">
			<div id="intro"><img src="http://media.giphy.com/media/vcyroBgx2nrby/giphy.gif" class="first"></div>
			<div id="story">
				<div class="row1 col1">
					<h1 class="size3">I be Mario You Luigi - Okay!</h1>
					<h2>KeyWords:</h2>
					<blockquote class="width5 ">
						<p>We had are troubles, ups and downs but whats the point of mario if there aren't enough dungeons!</p>
					</blockquote>
				</div>
			</div>
		</li>
		<!-- end way to shidu-->
		
		<!-- way to zhimaowan-->
		<li class="way" id="way2zmw">
			<div id="intro"><img src="http://media.giphy.com/media/PxfJk0LKktjdS/giphy.gif" class="first"></div>
			<div id="story">
				<div class="row1 col1">
					<h1 class="size3">We be Together</h1>
					<blockquote class="width5 ">
						<p> I know its so cliche but oh well, I madly truly deeply love you and whenever I see you  (call me a hopeless romantic!) I see my future.</p>
					</blockquote>
				</div>
			</div>
		</li>
	<!-- end 旅行足迹，小飞机飞过效果 -->
	
	<!-- removed a panel
		<li class="way" id="smiles">
			<h1 class="title"> I be in <3></h1>
			<section class="pe-container">
			<img src="#"> </img>
			</section>
		</li>
	<end 旅行足迹，小飞机飞过效果 -->
    
	<li id="loveletter">
        <div class="fixed">
            <h1>Love Letter</h1>
			<p>To the world you may be one person, but to me, you are the world ~</p>
        </div>
        <div class="content-wrapper">
			<ul class="steplist">
			<li class="step">
            <h1>Dear Pig Poolat:</h1>
			<p> Message for pig poolat</p>
    </li>
    
    <li id="lovecover">
		<!-- 大头照 视差错位效果的泡泡 && video -->
		<ul class="steplist">
			<li class="step" id="step1"></li>
			<li class="step" id="step2"></li>
			<li class="step say">
					<h1>笨蛋杜先生</h1>
					<p>你说我会免费告诉你我经常被这些小细节<br/>打动吗？还不赶紧请我喝柠檬贿赂我~！<br/>(*^o^*)</p>
					<p>嘿嘿，感觉自己好幸福喔，有如此宠我爱<br/>  我的你。想想都是你对我好，我对你足够<br/>好吗？你把我宠坏了怎么办呀？！　　　</p>
					<h1>亲爱的杜先生</h1><p>生日快乐!一周年快乐!我爱你<br/>要一起吃到老，玩到老喔！~</p>
					<h3 class="videoLink">Here is A Video</h3>
			</li>
			<li class="step" id="step4"></li>
		</ul>
			<img src="images/smile.png" height="100%" id="seventhImg" class="full-background">
			
		<!--video -->
		<div class="videoCurtain">&nbsp;</div>
		<video controls class="videoLarge" preload="auto">
			<source src="http://vid1158.photobucket.com/albums/p605/dylan_li/video.mp4" type="video/mp4">
		</video>
		<!--end of video -->
    </li>

</ol>

<audio src="http://home.space.net.au/~mdclare/Song/Lonestar_Amazed.mp3" autoplay="autoplay" loop="3" /> 

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="js/curtain.js"></script>
<script>
    $(function(){
       $('.curtains').curtain({
           scrollSpeed: 450,
           controls: '.menu',
           curtainLinks: '.curtain-links'
       });
    });
</script>
<script type="text/javascript" src="js/jquery.proximity.js"></script>
		<script type="text/javascript">
			$(function() {
				
				var Photo	= (function() {
					
						// list of thumbs
					var $list		= $('#pe-thumbs'),
						// list's width and offset left.
						// this will be used to know the position of the description container
						listW		= $list.width(),
						listL		= $list.offset().left,
						// the images
						$elems		= $list.find('img'),
						// the description containers
						$descrp		= $list.find('div.pe-description'),
						// maxScale : maximum scale value the image will have
						// minOpacity / maxOpacity : minimum (set in the CSS) and maximum values for the image's opacity
						settings	= {
							maxScale	: 1.3,
							maxOpacity	: 0.9,
							minOpacity	: Number( $elems.css('opacity') )
						},
						init		= function() {
							
							// minScale will be set in the CSS
							settings.minScale = _getScaleVal() || 1;
							// preload the images (thumbs)
							_loadImages( function() {
								
								_calcDescrp();
								_initEvents();
							
							});
						
						},
						// Get Value of CSS Scale through JavaScript:
						// http://css-tricks.com/get-value-of-css-rotation-through-javascript/
						_getScaleVal= function() {
						
							var st = window.getComputedStyle($elems.get(0), null),
								tr = st.getPropertyValue("-webkit-transform") ||
									 st.getPropertyValue("-moz-transform") ||
									 st.getPropertyValue("-ms-transform") ||
									 st.getPropertyValue("-o-transform") ||
									 st.getPropertyValue("transform") ||
									 "fail...";

							if( tr !== 'none' ) {	 

								var values = tr.split('(')[1].split(')')[0].split(','),
									a = values[0],
									b = values[1],
									c = values[2],
									d = values[3];

								return Math.sqrt( a * a + b * b );
							
							}
							
						},
						// calculates the style values for the description containers,
						// based on the settings variable
						_calcDescrp	= function() {
							
							$descrp.each( function(i) {
							
								var $el		= $(this),
									$img	= $el.prev(),
									img_w	= $img.width(),
									img_h	= $img.height(),
									img_n_w	= settings.maxScale * img_w,
									img_n_h	= settings.maxScale * img_h,
									space_t = ( img_n_h - img_h ) / 2,
									space_l = ( img_n_w - img_w ) / 2;
								
								$el.data( 'space_l', space_l ).css({
									height	: settings.maxScale * $el.height(),
									top		: -space_t,
									left	: img_n_w - space_l
								});
							
							});
						
						},
						_initEvents	= function() {
						
							$elems.on('proximity.Photo', { max: 80, throttle: 10, fireOutOfBounds : true }, function(event, proximity, distance) {
								
								var $el			= $(this),
									$li			= $el.closest('li'),
									$desc		= $el.next(),
									scaleVal	= proximity * ( settings.maxScale - settings.minScale ) + settings.minScale,
									scaleExp	= 'scale(' + scaleVal + ')';
								
								// change the z-index of the element once it reaches the maximum scale value
								// also, show the description container
								if( scaleVal === settings.maxScale ) {
									
									$li.css( 'z-index', 1000 );
									
									if( $desc.offset().left + $desc.width() > listL + listW ) {
										
										$desc.css( 'left', -$desc.width() - $desc.data( 'space_l' ) );
									
									}
									
									$desc.fadeIn( 800 );
									
								}	
								else {
									
									$li.css( 'z-index', 1 );
								
									$desc.stop(true,true).hide();
								
								}	
								
								$el.css({
									'-webkit-transform'	: scaleExp,
									'-moz-transform'	: scaleExp,
									'-o-transform'		: scaleExp,
									'-ms-transform'		: scaleExp,
									'transform'			: scaleExp,
									'opacity'			: ( proximity * ( settings.maxOpacity - settings.minOpacity ) + settings.minOpacity )
								});

							});
						
						},
						_loadImages	= function( callback ) {
							
							var loaded 	= 0,
								total	= $elems.length;
							
							$elems.each( function(i) {
								
								var $el = $(this);
								
								$('<img/>').load( function() {
									
									++loaded;
									if( loaded === total )
										callback.call();
									
								}).attr( 'src', $el.attr('src') );
							
							});
						
						};
					
					return {
						init	: init
					};
				
				})();
				
				Photo.init();
				
			});
		</script>
	

<script type="text/javascript" src="js/lovetime.js"></script>
<script type="text/javascript" src="js/heart.js"></script>
<script type="text/javascript" src="js/my.js"></script>
</body>
</html>
